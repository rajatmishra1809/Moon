<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moon - Zodiac Predictions</title>
    <!-- Google Fonts: Cinzel Decorative -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles from index.html for consistency */
        body {
            transition: background-color 0.3s ease, color 0.3s ease;
            font-family: "Inter", sans-serif;
            position: relative; /* Needed for z-index of background */
            overflow-x: hidden;
        }
        .light body {
            background-color: #f0e6ef;
            color: #333;
        }
        .dark body {
            background-color: #1a022b;
            color: #e0d9e7;
        }
        .dark .bg-gradient-to-r {
            background-image: linear-gradient(to right, #2b0c47, #4b1a7d);
        }
        .dark .bg-gray-800 {
            background-color: #2b0c47;
        }
        .dark .text-gray-300 {
            color: #c9b1d6;
        }
        /* Apply Cinzel Decorative font to the main heading */
        .font-cinzel {
            font-family: 'Cinzel Decorative', cursive;
        }
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        /* Style for the individual zodiac cards */
        .zodiac-card {
            background-color: #fff;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: relative; /* Needed for floating animation */
            overflow: hidden; /* Ensures shadow/transform doesn't leak */
        }
        .dark .zodiac-card {
            background-color: #3b0764; /* Darker purple for cards in dark mode */
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }
        .zodiac-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        /* --- Cosmic Background Styles --- */
        .cosmic-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Send it to the back */
            overflow: hidden;
            pointer-events: none; /* Allows clicks to pass through */
        }

        /* Starry effect using radial gradients */
        .cosmic-background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                /* Smallest stars */
                radial-gradient(2px 2px at 20% 30%, #ffffff, rgba(255,255,255,0)),
                radial-gradient(2px 2px at 70% 80%, #ffffff, rgba(255,255,255,0)),
                radial-gradient(1px 1px at 90% 10%, #ffffff, rgba(255,255,255,0)),
                radial-gradient(1px 1px at 5% 50%, #ffffff, rgba(255,255,255,0)),
                radial-gradient(2px 2px at 40% 60%, #ffffff, rgba(255,255,255,0)),
                /* Larger stars / distant galaxies */
                radial-gradient(3px 3px at 50% 20%, #ffe9c9, rgba(255,255,255,0)),
                radial-gradient(2px 2px at 10% 90%, #e0f2f7, rgba(255,255,255,0)),
                radial-gradient(2px 2px at 80% 40%, #ffebcd, rgba(255,255,255,0));
            background-repeat: repeat;
            background-size: 200px 200px; /* Adjust density of stars */
            opacity: 0.7;
            animation: twinkle 10s infinite alternate;
        }

        /* Moon effect */
        .cosmic-background::after {
            content: '';
            position: absolute;
            width: 120px; /* Size of the moon */
            height: 120px;
            background: radial-gradient(circle at 30% 30%, #fefce8, #d4d4d4); /* Moon texture */
            border-radius: 50%;
            top: 5%; /* Position from top */
            right: 5%; /* Position from right */
            box-shadow: 0 0 40px 15px rgba(255, 255, 255, 0.3), /* Outer glow */
                        0 0 80px 30px rgba(255, 255, 255, 0.1), /* Even wider glow */
                        inset 0 0 15px rgba(0, 0, 0, 0.2); /* Inner shadow for depth */
            filter: blur(0.5px); /* Soften the edges slightly */
            animation: moonGlow 5s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.7; }
            50% { opacity: 0.9; }
            100% { opacity: 0.7; }
        }

        @keyframes moonGlow {
            0% { transform: scale(1); opacity: 0.9; }
            50% { transform: scale(1.02); opacity: 1; }
            100% { transform: scale(1); opacity: 0.9; }
        }

        /* Ensure content is above the background */
        main, footer, header {
            position: relative;
            z-index: 1;
        }
    </style>
    <!-- Font Awesome for dark mode toggle icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="min-h-screen flex flex-col">
    <div class="cosmic-background"></div> <!-- Background elements container -->

    <header class="bg-gradient-to-r from-purple-900 to-indigo-900 shadow-lg p-4 flex justify-between items-center relative z-20">
        <h1 class="text-3xl font-bold text-white tracking-wider"><a href="/" class="hover:text-purple-200 font-cinzel">Moon</a></h1>
        <div class="relative">
            <button id="theme-toggle" class="p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-30 focus:outline-none focus:ring-2 focus:ring-white transition-colors duration-300">
                <i class="fas fa-sun text-yellow-300 text-xl" id="theme-toggle-icon"></i>
            </button>
        </div>
    </header>

    <main class="flex-grow flex flex-col items-center p-6">
        <h2 class="text-4xl font-extrabold mb-10 drop-shadow-lg text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-500">
            Your Zodiac Destiny
        </h2>

        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-5xl w-full">
            {% for key, sign in zodiac_signs.items() %}
            <div id="zodiac-{{ key }}" class="zodiac-card p-6 text-center cursor-pointer floating"
                 onclick="getZodiacPrediction('{{ key }}')"
                 data-sign-key="{{ key }}">
                <h3 class="text-2xl font-semibold mb-2 text-purple-700 dark:text-purple-200">{{ sign.name }}</h3>
                <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">{{ sign.dates }}</p>
                <div class="text-5xl mb-4">
                    {% if key == 'aries' %}♈{% elif key == 'taurus' %}♉{% elif key == 'gemini' %}♊{% elif key == 'cancer' %}♋{% elif key == 'leo' %}♌{% elif key == 'virgo' %}♍{% elif key == 'libra' %}♎{% elif key == 'scorpio' %}♏{% elif key == 'sagittarius' %}♐{% elif key == 'capricorn' %}♑{% elif key == 'aquarius' %}♒{% elif key == 'pisces' %}♓{% endif %}
                </div>
                <p class="text-purple-500 dark:text-pink-300 font-medium">Click for today's prediction!</p>
            </div>
            {% endfor %}
        </div>

        <!-- Prediction Modal -->
        <div id="prediction-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4">
            <div class="bg-white dark:bg-purple-900 rounded-xl shadow-2xl p-8 max-w-md w-full relative">
                <button id="close-modal" class="absolute top-4 right-4 text-gray-500 dark:text-gray-300 hover:text-gray-700 dark:hover:text-white text-2xl font-bold">&times;</button>
                <h3 id="modal-sign-name" class="text-3xl font-bold mb-4 text-purple-700 dark:text-purple-300"></h3>
                <p id="modal-prediction-text" class="text-lg leading-relaxed text-gray-800 dark:text-gray-200"></p>
            </div>
        </div>
    </main>

    <footer class="bg-gray-800 text-gray-300 py-4 text-center text-sm shadow-inner mt-auto">
        <p>&copy; 2025 Moon. All rights reserved.</p>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
